{"version":3,"sources":["store.js","components/clotheList/ClotheList.js","App.js","index.js"],"names":["clotheList","map","name","i","id","editing","getClotheList","state","getEditValue","editValue","store","createStore","action","type","currentItem","find","item","currentId","prevEditValue","value","keyCode","connect","dispatch","editClick","changeEditValue","keyPress","onEditClick","event","Number","target","dataset","onEditValueChange","buttonPress","key","useEffect","document","addEventListener","removeEventListener","className","Input","placeholder","onChange","Button","data-id","onClick","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5b729d80.chunk.js","sourcesContent":["import { createStore } from 'redux';\n\nconst clotheList = ['Apron', 'Belt', 'Cardigan', 'Dress', 'Earrings', 'Fur coat', 'Gloves', 'Hat']\n  .map((name, i) => ({ id: i + 1, name , editing: false }));\n\n// action types\nconst TYPE_EDIT_CLICK = 'editClick';\nconst CHANGE_EDIT_VALUE = 'changeEditValue';\nconst KEY_PRESS = 'keyPress';\n\n\n//action creators\nexport const editClick = currentId => ({ type: TYPE_EDIT_CLICK, currentId });\nexport const changeEditValue = value => ({ type: CHANGE_EDIT_VALUE, value });\nexport const keyPress = keyCode => ({ type: KEY_PRESS, keyCode });\n\n\n// selectors\nexport const getClotheList = state => state.clotheList;\nexport const getEditValue = state => state.editValue;\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case TYPE_EDIT_CLICK:\n      const currentItem = state.clotheList.find(item => item.id === action.currentId);\n\n      return ({\n        ...state,\n        prevEditValue: currentItem.name,\n        editValue: currentItem.name,\n        currentId: action.currentId,\n        clotheList: state.clotheList.map(item => ({...item, editing: item.id === action.currentId })),\n      });\n    case CHANGE_EDIT_VALUE: {\n      return ({ ...state, editValue: action.value })\n    }\n    case KEY_PRESS: {\n      switch (action.keyCode) {\n        case 'Enter': {\n          const currentItem = state.clotheList.find(item => item.id === state.currentId);\n\n          if (!currentItem) return { ...state };\n\n          currentItem.name = state.editValue;\n          currentItem.editing = false;;\n\n          return ({ ...state, editValue: '' });\n        }\n        case 'Escape': {\n          const currentItem = state.clotheList.find(item => item.id === state.currentId);\n\n          if (!currentItem) return { ...state };\n\n          currentItem.name = state.prevEditValue;\n          currentItem.editing = false;\n\n          return ({ ...state, editValue: '' });\n        }\n      }\n    }\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(reducer, { clotheList, currentId: null, editValue: '', prevEditValue: '' });\n\nexport default store;\n\n","import React, { useEffect, useRef } from 'react';\nimport { connect } from 'react-redux'\nimport { Button, Input } from 'semantic-ui-react'\n\nimport { getClotheList, getEditValue, editClick, changeEditValue, keyPress } from '../../store';\n\n\nconst ClotheList = ({ clotheList, editValue, editClick, changeEditValue, keyPress }) => {\n\n  const onEditClick = (event) => {\n    editClick(Number(event.target.dataset.id));\n  };\n\n  const onEditValueChange = (event) => {\n    changeEditValue(event.target.value);\n  };\n\n  const buttonPress = (event) => {\n    keyPress(event.key);\n  };\n\n  useEffect(() => {\n    document.addEventListener('keydown', buttonPress);\n\n    return () => document.removeEventListener('keydown', buttonPress);\n  }, []);\n\n  return (\n    <div className=\"clotheList\">\n      <ul>\n        {clotheList.map(item =>\n          item.editing ? (\n            <Input\n              key={item.id}\n              placeholder='Edit...'\n              onChange={onEditValueChange}\n              value={editValue}\n            />\n          ) : (\n            <li key={item.id}>\n              {item.name}\n              <Button data-id={item.id} onClick={onEditClick}>Edit</Button>\n            </li>\n          )\n        )}\n      </ul>\n    </div>\n  );\n};\n\nconst getDate = state => ({\n  clotheList: getClotheList(state),\n  editValue: getEditValue(state),\n});\n\nconst getMethods = dispatch => ({\n  editClick: id => dispatch(editClick(id)),\n  changeEditValue: value => dispatch(changeEditValue(value)),\n  keyPress: keyCode => dispatch(keyPress(keyCode)),\n});\n\n\n\nexport default connect(\n  getDate,\n  getMethods,\n)(ClotheList);\n","import React from 'react';\nimport './App.css';\nimport ClotheList from './components/clotheList/ClotheList';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ClotheList />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport store from './store';\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}